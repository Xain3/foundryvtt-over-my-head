# Constants for the module
# This file contains constants that are used throughout the module.
# It is recommended to use this file to define constants that are used in multiple places.
# This file will be parsed into a JavaScript object (in constants.js), which can be used in the module.

# How to refer to the module in the logs
# Can be "title", "id", "name", or "shortName"
referToModuleBy: "title"

# How to structure error messages
errors:
  separator: " || "
  pattern: "{{module}}{{caller}}{{error}}{{stack}}"

# Constants relative to context and state management
context:
  naming:
    # The name of the state object
    state: "state"
    # The name of the settings object
    settings: "settings"
    # The name of the flags object
    flags: "flags"
    # The name of the data object
    data: "data"
    # The name of the manifest object
    manifest: "manifest"
    # The name of the timestamp
    timestamp: "timestamp"
  # The schema for the context object
  schema:
    manifest: 'object'
    constants: 'object'
    flags: 'object'
    data: 'object'
    settings: 'object'
    timestamp: 'number'

  # How to structure the context object
  remote:
    defaults:
      rootIdentifier: "module" # The default identifier for the root object of the context.
      defaultPathFromRoot: "context" # The default path of the context relative to the root object.
    rootMap:
      window: "globalNamespace.window"
      document: "globalNamespace.document"
      game: "globalNamespace.game"
      user: "globalNamespace.game?.user"
      world: "globalNamespace.game?.world"
      canvas: "globalNamespace.canvas"
      ui: "globalNamespace.ui"
      local: "globalNamespace.localStorage"
      session: "globalNamespace.sessionStorage"
      module: "module"
      invalid: null

  sync:
    # Default synchronization configuration
    defaults:
      autoSync: true
      pullBeforeGet: true
      pushAfterSet: true
      syncStrategy: "mergeNewerWins"
      syncThrottleMs: 1000
      deepSync: true
      compareBy: "modifiedAt"

    # Available sync strategies
    strategies:
      - "mergeNewerWins"
      - "mergeOlderWins"
      - "overwriteLocal"
      - "overwriteRemote"
      - "manual"

    # Available comparison methods
    comparisonMethods:
      - "modifiedAt"
      - "createdAt"
      - "version"
      - "hash"

# Constants relative to placeables
placeables:
  token:
    type: "token"
    name: "Token"
    class: "TokenDocument"
    allowedCorners:
      - "top-left"
      - "top-right"
      - "bottom-left"
      - "bottom-right"
  tile:
    type: "tile"
    name: "Tile"
    class: "TileDocument"
    allowedCorners:
      - "top-left"
      - "top-right"
      - "bottom-left"
      - "bottom-right"

# The following constant is used only for testing purposes
testConstant: "testValue" # DO NOT CHANGE THIS VALUE